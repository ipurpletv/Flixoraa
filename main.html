<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Flixora</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    .modal{position:fixed;inset:0;display:none;justify-content:center;align-items:center;background:rgba(0,0,0,.8);z-index:99}
    .modal-content{background:#1a1a1a;color:#fff;padding:1.5rem;border-radius:12px;max-width:600px;width:90%}
    .close{cursor:pointer;font-size:1.5rem;position:absolute;top:10px;right:16px}
  </style>
</head>
<body>

<!-- ‚ñë‚ñë‚ñë NAV ‚ñë‚ñë‚ñë -->
<nav class="main-nav">
  <button class="hamburger" id="hamburgerBtn" aria-label="Open Menu">
    <span></span><span></span><span></span>
  </button>
  <a href="https://flixora.pages.dev/" class="nav-brand">Flixora</a>
  <input type="text" id="searchInput" placeholder="Search..." />
</nav>

<div class="nav-links" id="drawer">
  <button class="close-drawer" id="drawerClose">‚úñ</button>
  <a href="#animations">Animations</a>
  <a href="#movies">Movies</a>
  <a href="#tv">TV Series</a>
  <a href="#anime">Anime</a>
  <a href="#kdrama">K-Drama</a>
  <div class="social">
    <a href="#" title="Facebook">üìò</a>
    <a href="#" title="Instagram">üì∏</a>
    <a href="#" title="Telegram">üì®</a>
  </div>
</div>

<!-- ‚ñë‚ñë‚ñë SECTIONS ‚ñë‚ñë‚ñë -->
<section class="carousel-section" id="movies">
  <h2 class="section-title">Movies</h2>
  <div class="carousel-wrap">
    <button class="arrow left" onclick="scrollCarousel('movies',-1)">‚Äπ</button>
    <div class="carousel-row" id="movies-carousel">

    </div>
    <button class="arrow right" onclick="scrollCarousel('movies',1)">‚Ä∫</button>
  </div>
</section>

<!-- ‚ñë‚ñë‚ñë MODAL ‚ñë‚ñë‚ñë -->
<div class="modal" id="watchModal">
  <div class="modal-content">
    <span class="close" id="modalClose">&times;</span>
    <div class="modal-flex" style="display:flex;gap:1rem;flex-wrap:wrap;align-items:flex-start;">
      <img id="modalImg" src="" alt="Poster" style="width:160px;border-radius:8px;" />
      <div class="modal-info" style="flex:1;min-width:200px;">
        <h2 id="modalTitle"></h2>
        <p id="modalOverview" class="overview"></p>
        <a id="watchNowBtn" class="watch-now" href="#" style="display:inline-block;margin-top:1rem;padding:.5rem 1rem;background:#8b5cf6;border-radius:6px;color:#fff;text-decoration:none;">Watch Now</a>
      </div>
    </div>
  </div>
</div>

<footer class="site-footer">¬© 2025 Flixora. All rights reserved.</footer>

<!-- ‚ñë‚ñë‚ñë JS ‚ñë‚ñë‚ñë -->
<script>
// === Drawer ===
document.getElementById('hamburgerBtn').addEventListener('click',()=>{
  document.getElementById('drawer').classList.add('active');
});
document.getElementById('drawerClose').addEventListener('click',()=>{
  document.getElementById('drawer').classList.remove('active');
});

// === Modal ===
const modal=document.getElementById('watchModal');
const modalImg=document.getElementById('modalImg');
const modalTitle=document.getElementById('modalTitle');
const modalOverview=document.getElementById('modalOverview');
const modalClose=document.getElementById('modalClose');
const watchNowBtn=document.getElementById('watchNowBtn');

function bindWatchButtons() {
  document.querySelectorAll('.watch-btn').forEach(btn=>{
    btn.addEventListener('click',e=>{
      e.preventDefault();
      const {title,overview,image,src}=btn.dataset;
      modalTitle.textContent=title;
      modalOverview.textContent=overview;
      modalImg.src=image;
      const watchURL=new URL('watch.html',window.location.origin);
      watchURL.searchParams.set('title',title);
      watchURL.searchParams.set('src',src);
      watchNowBtn.href=watchURL.toString();
      modal.style.display='flex';
    });
  });
}
modalClose.addEventListener('click',()=>modal.style.display='none');
window.addEventListener('click',e=>{if(e.target===modal)modal.style.display='none';});

// === Search ===
const searchInput=document.getElementById('searchInput');
searchInput.addEventListener('input',()=>{
  const q=searchInput.value.toLowerCase();
  document.querySelectorAll('.card').forEach(c=>{
    c.style.display=c.dataset.title.toLowerCase().includes(q)?'block':'none';
  });
});

// === Carousel scroll ===
function scrollCarousel(id,dir){
  const row=document.getElementById(`${id}-carousel`);
  if(row)row.scrollBy({left:dir*220,behavior:'smooth'});
}

// === Auto-generate Cards ===
const movieList = [
  {
    title: "Inception",
    poster: "https://via.placeholder.com/180x270?text=Inception",
    image: "https://via.placeholder.com/240x360?text=Inception",
    rating: "8.8",
    overview: "A thief who steals secrets through dream-sharing.",
    drive: "https://drive.google.com/file/d/abc123XYZ/preview"
  },
  {
    title: "Shrek",
    poster: "https://via.placeholder.com/180x270?text=Shrek",
    image: "https://via.placeholder.com/240x360?text=Shrek",
    rating: "7.9",
    overview: "An ogre's journey to rescue a princess.",
    drive: "https://drive.google.com/file/d/def456XYZ/preview"
  }
];

const movieContainer = document.getElementById("movies-carousel");
movieContainer.innerHTML = movieList.map(m => `
  <div class="card" data-title="${m.title}">
    <img src="${m.poster}" alt="${m.title} Poster" />
    <h3>${m.title}</h3>
    <p class="rating">‚≠ê ${m.rating}</p>
    <a href="#" class="watch-btn"
       data-title="${m.title}"
       data-overview="${m.overview}"
       data-image="${m.image}"
       data-src="${m.drive}">Watch</a>
  </div>
`).join('');

bindWatchButtons();
</script>
</body>
</html>
