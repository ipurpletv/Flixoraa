<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Flixora</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    .modal{position:fixed;inset:0;display:none;justify-content:center;align-items:center;background:rgba(0,0,0,.8);z-index:99}
    .modal-content{background:#1a1a1a;color:#fff;padding:1.5rem;border-radius:12px;max-width:600px;width:90%}
    .close{cursor:pointer;font-size:1.5rem;position:absolute;top:10px;right:16px}
  </style>
</head>
<body>

<nav class="main-nav">
  <button class="hamburger" id="hamburgerBtn" aria-label="Open Menu">
    <span></span><span></span><span></span>
  </button>
  <a href="https://flixora.pages.dev/" class="nav-brand">Flixora</a>
  <input type="text" id="searchInput" placeholder="Search..." />
</nav>

<div class="nav-links" id="drawer">
  <button class="close-drawer" id="drawerClose">‚úñ</button>
  <a href="#animations">Animations</a>
  <a href="#movies">Movies</a>
  <a href="#tv">TV Series</a>
  <a href="#anime">Anime</a>
  <a href="#kdrama">K-Drama</a>
  <div class="social">
    <a href="#" title="Facebook">üìò</a>
    <a href="#" title="Instagram">üì∏</a>
    <a href="#" title="Telegram">üì®</a>
  </div>
</div>

<section class="carousel-section" id="movies">
  <h2 class="section-title">Movies</h2>
  <div class="carousel-wrap">
    <button class="arrow left" onclick="scrollCarousel('movies',-1)">‚Äπ</button>
    <div class="carousel-row" id="movies-carousel"></div>
    <button class="arrow right" onclick="scrollCarousel('movies',1)">‚Ä∫</button>
  </div>
</section>

<section class="carousel-section" id="animations">
  <h2 class="section-title">Animations</h2>
  <div class="carousel-wrap">
    <button class="arrow left" onclick="scrollCarousel('animations',-1)">‚Äπ</button>
    <div class="carousel-row" id="animations-carousel"></div>
    <button class="arrow right" onclick="scrollCarousel('animations',1)">‚Ä∫</button>
  </div>
</section>

<section class="carousel-section" id="tv">
  <h2 class="section-title">TV Series</h2>
  <div class="carousel-wrap">
    <button class="arrow left" onclick="scrollCarousel('tv',-1)">‚Äπ</button>
    <div class="carousel-row" id="tv-carousel"></div>
    <button class="arrow right" onclick="scrollCarousel('tv',1)">‚Ä∫</button>
  </div>
</section>

<section class="carousel-section" id="anime">
  <h2 class="section-title">Anime</h2>
  <div class="carousel-wrap">
    <button class="arrow left" onclick="scrollCarousel('anime',-1)">‚Äπ</button>
    <div class="carousel-row" id="anime-carousel"></div>
    <button class="arrow right" onclick="scrollCarousel('anime',1)">‚Ä∫</button>
  </div>
</section>

<section class="carousel-section" id="kdrama">
  <h2 class="section-title">K-Drama</h2>
  <div class="carousel-wrap">
    <button class="arrow left" onclick="scrollCarousel('kdrama',-1)">‚Äπ</button>
    <div class="carousel-row" id="kdrama-carousel"></div>
    <button class="arrow right" onclick="scrollCarousel('kdrama',1)">‚Ä∫</button>
  </div>
</section>

<div class="modal" id="watchModal">
  <div class="modal-content">
    <span class="close" id="modalClose">&times;</span>
    <div class="modal-flex" style="display:flex;gap:1rem;flex-wrap:wrap;align-items:flex-start;">
      <img id="modalImg" src="" alt="Poster" style="width:160px;border-radius:8px;" />
      <div class="modal-info" style="flex:1;min-width:200px;">
        <h2 id="modalTitle"></h2>
        <p id="modalOverview" class="overview"></p>
        <a id="watchNowBtn" class="watch-now" href="#" style="display:inline-block;margin-top:1rem;padding:.5rem 1rem;background:#8b5cf6;border-radius:6px;color:#fff;text-decoration:none;">Watch Now</a>
      </div>
    </div>
  </div>
</div>

<footer class="site-footer">¬© 2025 Flixora. All rights reserved.</footer>

<script>
const contentData = {
  movies: [
    {
      title: "Inception",
      poster: "https://via.placeholder.com/180x270?text=Inception",
      image: "https://via.placeholder.com/240x360?text=Inception",
      rating: "8.8",
      overview: "A thief who steals secrets through dream-sharing.",
      drive: "https://drive.google.com/file/d/abc123XYZ/preview"
    }
  ],
  animations: [
    {
      title: "Inception",
      poster: "https://via.placeholder.com/180x270?text=Inception",
      image: "https://via.placeholder.com/240x360?text=Inception",
      rating: "8.8",
      overview: "A thief who steals secrets through dream-sharing.",
      drive: "https://drive.google.com/file/d/abc123XYZ/preview"
    }
  ],
  tv: [
    {
      title: "Inception",
      poster: "https://via.placeholder.com/180x270?text=Inception",
      image: "https://via.placeholder.com/240x360?text=Inception",
      rating: "8.8",
      overview: "A thief who steals secrets through dream-sharing.",
      drive: "https://drive.google.com/file/d/abc123XYZ/preview"
    }
  ],
  anime: [
    {
      title: "Inception",
      poster: "https://via.placeholder.com/180x270?text=Inception",
      image: "https://via.placeholder.com/240x360?text=Inception",
      rating: "8.8",
      overview: "A thief who steals secrets through dream-sharing.",
      drive: "https://drive.google.com/file/d/abc123XYZ/preview"
    }
  ],
  kdrama: [
    {
      title: "Inception",
      poster: "https://via.placeholder.com/180x270?text=Inception",
      image: "https://via.placeholder.com/240x360?text=Inception",
      rating: "8.8",
      overview: "A thief who steals secrets through dream-sharing.",
      drive: "https://drive.google.com/file/d/abc123XYZ/preview"
    }
  ]
};

const modal=document.getElementById('watchModal');
const modalImg=document.getElementById('modalImg');
const modalTitle=document.getElementById('modalTitle');
const modalOverview=document.getElementById('modalOverview');
const modalClose=document.getElementById('modalClose');
const watchNowBtn=document.getElementById('watchNowBtn');

function createCard(item) {
  const card = document.createElement("div");
  card.className = "card";
  card.dataset.title = item.title.toLowerCase();
  card.innerHTML = `
    <img src="${item.poster}" alt="Poster">
    <h3>${item.title}</h3>
    <p class="rating">‚≠ê ${item.rating}</p>
    <a href="#" class="watch-btn" data-title="${item.title}" data-overview="${item.overview}" data-image="${item.image}" data-src="${item.drive}">Watch</a>
  `;
  card.querySelector(".watch-btn").addEventListener("click", e => {
    e.preventDefault();
    modalTitle.textContent = item.title;
    modalOverview.textContent = item.overview;
    modalImg.src = item.image;
    const watchURL = new URL("watch.html", window.location.origin);
    watchURL.searchParams.set("title", item.title);
    watchURL.searchParams.set("src", item.drive);
    watchNowBtn.href = watchURL.toString();
    modal.style.display = "flex";
  });
  return card;
}

function populateSection(section, data) {
  const row = document.getElementById(`${section}-carousel`);
  row.innerHTML = "";
  data.forEach(item => row.appendChild(createCard(item)));
}

Object.keys(contentData).forEach(section => populateSection(section, contentData[section]));

modalClose.addEventListener('click',()=>modal.style.display='none');
window.addEventListener('click',e=>{if(e.target===modal)modal.style.display='none';});

document.getElementById('hamburgerBtn').addEventListener('click',()=>document.getElementById('drawer').classList.add('active'));
document.getElementById('drawerClose').addEventListener('click',()=>document.getElementById('drawer').classList.remove('active'));

document.getElementById('searchInput').addEventListener('input',()=>{
  const q=document.getElementById('searchInput').value.toLowerCase();
  document.querySelectorAll('.card').forEach(c=>{c.style.display=c.dataset.title.includes(q)?'block':'none';});
});

function scrollCarousel(id,dir){
  const row=document.getElementById(`${id}-carousel`);
  if(row)row.scrollBy({left:dir*220,behavior:'smooth'});
}
</script>

</body>
</html>
